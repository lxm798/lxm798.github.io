# 算法与索引

## B+树
叶子节点和非叶子节点中存储的内容

### 管理
分裂\插入\删除

## 索引

### 作用
为了减少磁盘的读
### 聚簇索引和辅助索引
聚簇索引:非叶子节点中包含主键,下一级别节点的offset,叶子节点包含具体的行,每个节点至少包含两个节点.
辅助索引:辅助索引叶子节点中包含主键.
### 高度估算
主键4字节+offset 4字节
### Cardinality/基数 值
触发:
计算:采样数据中不同值得个数*块总数/采样块个数
索引的区分度
计算/XX
### 优化
#### ICP/index push down
在引擎层处理
#### MRR/ Multi Range
将二级索引扫描数据进行聚合排序后查找提高局部性

#### 自适应索引
为了加快查询的速度, server层会缓存查询的结果.但是只能缓存等值查询的结果.
触发条件:
一个块连续被同一个查询语句命中
只能在等值查询中有用,

## 倒排索引