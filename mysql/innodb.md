#innodb

## 脏页
首先说一下脏页的定义,之前一直对于脏页的理解比较模糊,这里说明一下:
内存中的数据对应硬盘的数据有所改变．改变后的数据页就叫做脏页.
这里的磁盘数据是指数据文件.
和操作系统中的脏页概念不是一个概念,操作系统中的脏页是指:

## checkpoint
事务提交时先写重做日志,在修改页,对应ACID的D

checkpoint 解决一下几个问题
* 缩短数据库恢复时间
* 缓冲池不够用,将脏页刷新到磁盘
* 重做日志不可用时,刷新脏页
checkpoint之前的页都已经刷新到磁盘
FLUSH_LRU_LIST Checkpint 是Innodb需要保证LRU 列表中需要100个左右的空闲夜可供使用.目前使用Page Cleaner线程处理

Async/Sync FLush Checkpoint重做日志文件不可用的情况下,将强制将一些页刷回到磁盘

哪些数据在redo log buffer 中
redo log 中的数据什么时候写入数据文件

## 特性

### 插入缓存/Insert buffer
Insert buffer是物理页的一部分. 目的是为了减少辅助索引的写入次数.
Insert buffer通过缓存辅助索引的物理页改动,将写入聚合后再回写磁盘.

### 两次写
对于mysql的数据,如果直接写入数据可能会引起数据损坏,先将需要写入的数据一次写入磁盘,然后再将需要写入的数据写入对应的数据块.

### 自适应Hash索引/AHI

## 启动关闭和恢复
不同级别导致不同的恢复模式\数据错误