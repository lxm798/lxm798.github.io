# 服务工程化指标对比读了On Designing and Deploying Internet-Scale Services论文后，按照论文中列举的相关指标和问题对之前的项目做了一个回顾。有些进行了打分，但是打分标准不够细致，以后需要继续完善当成服务质量的一个标准和方向。回顾之前的三个项目：fc的工程化是最好的，远远领先于其他的项目(其中打分，强、一般、弱、无分别是3,2,1,0,这样会导致分数差距没那么大)。im整体看起来及格线左右，nts远远没有及格。只有量化了才能看到几个服务之前的巨大差异，个人实际感受到的差距比表格列出的还要大。## 总体|项目| im | fc | nts||--|--|--|--||总体服务设计(21)|17|15|5|、|自动化配置和管理设计(10)|8|8|4||依赖管理(6)|4|5|3||发布周期和测试(12)|22|33|18||硬件选型和标准化(4)|11|12|5||运维和容量规划(5)|9|10|6||升级监控和报警(10)|20|23|17||优雅降级和准入控制(4)|2|0|0||客户和媒体沟通计划|0|0|0||客户自配置和自助|1|0|1|### 服务总体设计|item|im|fc|nts||-----|---|---|---||面向失败设计|是|是|否||冗余和故障恢复|是|是|否||基于普通商用硬件|是|是|是（不完全）||单一版本软件|是|是|否||多租户|是|是|否||健康检查|否|是|是||在完整的环境开发|是|是|否||对底层零信任|是|是|否||不在多个组件实现相同的功能|是|是|否||同步集群之间独立|是|是|否||允许极少的紧急人工干预|部分是|否|否||保持简单和健壮|-|-|-||在所有层执行准入控制|否|否|-||对服务进行分区|？|？|？||理解网络设计|是|是|是| ？？|分析吞吐和延迟|是|是|否||把运维工具作为服务的一部分|是|否|否||理解访问模式|是|是|否||一切版本化|是|是|是||保留ut和ft|是|是|否||避免单点故障|是|是|是|### 自动化管理和配置|item|im|fc|nts||--|--|--|--||能够重启和冗余|是|是|否||多地域部署|是|是|否||自动配置和安装|是|是|是||配置和代码作为一体|是|是|是||记录所有变量|是|是|是||多系统故障处理|是|是|否||在服务级别恢复|？|？|？||不要依赖单机存储的信息|是|是|否||保持部署简单|是|是|一般||定期引入故障|否|否|否|### 依赖管理|item|im|fc|nts||-----|---|--|---||延时管理|是|是|是(部分)||故障隔离|？|？|？||使用经验证的稳定组件|一般|是|一般||实现内部服务的监控和报警|是|？|否||被依赖的组件需要同样的sla|是|是|是||组件解耦|否|否|否|### 发布周期和测试|item|im|fc|nts||-----|---|--|---||经常发布|强|强|强||利用线上数据发现问题|弱|强|弱||加大工程投入|强|强|弱||支持版本回滚|强|强|强||保持向前和先后兼容|强|强|弱||单机部署支持|弱|强|一般||针对负载进行压力测试|一般|强|弱||在新发布之前进行容量和性能测试|一般|强|弱||增量迭代进行构建和部署|？|？|？||采用真实数据测试|无|强|弱||运行系统级验收测试|强|强|一般||在完整环境中进行测试开发|一般|强|一般|### 硬件选型和标准化|item|im|fc|nts||----|---|--|---||只是用标准SKUS|一般|强|弱||整机柜采购|强|强|弱||硬件抽象|强|强|强||对网络和命名服务进行抽象|强|强|无|### 运维和容量规划|item|im|fc|nts||-----|---|--|---||增强开发团队责任感|强|强|弱||只进行软删除|一般|一般|一般||跟踪资源分配|一般|强|弱||一次只进行一个变更|弱|弱|弱||所有东西可配置|弱|弱|弱|### 审计、监控和报警|item|im|fc|nts||----|---|--|---||监控所有内容|一般|强|弱||数据收集和推断|一般|一般|弱||具有服务的客户视角|弱|无|强||对生产环境测试进行监控|强|强|弱||处理延时|强|强|弱||足够的数据|强|强|一般||日志可配置|一般|一般|一般||向监控系统暴漏健康信息|一般|一般|一般||保证所有报告的错误都有相应的处理动作|一般|一般|一般||生产环境问题的快速诊断|一般|强|一般|### 优雅降级和准入控制|item|im|fc|nts||----|---|--|---||支持big red switch|无|？|无||准入控制|一般|？|无||准入计量|无|无|无|### 客户自配置和自助|item|im|fc|nts||----|---|--|---||客户配置|无|无|无||自助|弱|无|弱|