我的情况:
主体相似,细节不同的代码
入口和出口不同
事件驱动,没有明确事件发送的流程

对不同的部分进行重构.合并两份代码,明确事件含义和对应的发送逻辑
重写:升级原有的任务接收入口
总体看我们属于重写,而不是重构
但是部分功能属于重构

遇到的困难:
开发前细节不明确
没有单元和集成测试